<script src="//maps.google.com/maps/api/js?v=3.18&sensor=false&client=&key=&libraries=geometry&language=&hl=&region="></script> 
<script src="//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/infobox/1.1.9/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->

<%= form_for([@store,@location], :html => {:multipart => true}) do |f| %>
  
<div class="container theme-showcase">
      <div class="col-md-4  ">
        <div class="panel panel-default">
          <div class="panel-heading">
              <div class="panel-body roundgrey centertext">
                <figure>
                  <dd><%= image_tag(@store.avatar_url, :width => 200, :height => 200) if @store.avatar.present? %></dd>
                </figure>
                <dd><%= @store.name %></dd>
                <dd><%= @store.address %></dd>
                <dd><span class="glyphicon glyphicon-envelope"></span> <%= @store.email %></dd>
                <dd><span class="glyphicon glyphicon-phone-alt"></span> <%= @store.phone %></dd>
                <% if user_signed_in? and current_user.store.id == @store.id %>
                  <%= link_to '<span class="glyphicon glyphicon-plus"></span> Publicar Oferta'.html_safe ,new_store_offer_path(@store) %>
                  <br>
                  <%= link_to '<span class="glyphicon glyphicon-globe"></span> Agregar en el mapa'.html_safe, new_store_location_path(@store) %>
                  <br>
                   <%= link_to'<span class="glyphicon glyphicon-pencil"></span> Editar perfil'.html_safe,edit_store_path(@store) %>
                   <br>
                <% end %>
    
                <%= link_to t('.back', :default => t("helpers.links.back")),
                            stores_path, :class => 'btn'  %>
            </div> 
        </div>
      </div>
    </div>
    <div class="col-md-8  ">
    <div style='width: 800px;'>
      <div id="map" style='width: 800px; height: 400px;'></div>
    </div>

 <!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: -34.397, lng: 150.644},
          zoom: 8
        });
      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB95rmvxbHmrh4q8zQ-MUAmhm1hBbSzWxU&callback=initMap"
    async defer></script>

  </body>
</html>



      <div class="form-group">
        <% f.label :latitude, :class => 'control-label' %>
        <% f.text_field :latitude, :class => 'form-control' %>
      </div>
      <div class="form-group">
        <% f.label :longitude, :class => 'control-label' %>
        <% f.text_field :longitude, :class => 'form-control' %>
      </div>
      <div class="form-group">
        <% f.label :store_id, :class => 'control-label' %>
        <% f.number_field :store_id, :class => 'form-control' %>
      </div>
      <div class="form-actions">
        <%= f.submit nil, :class => 'btn btn-primary' %>
        <%= link_to t('.cancel', :default => t("helpers.links.cancel")),
                    store_path(@store), :class => 'btn' %>
      </div>
    </div>
<% end %>
